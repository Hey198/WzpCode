<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // let obj = {
        //     name: "xxx",
        //     age: 21,
        //     school: "yejidaxue"
        // }
        // //指向同一个地址 两方修改会互相影响
        // //浅拷贝
        // let obj2 = obj;
        // obj.name = "aaa";
        // console.log(obj2);

        // //单层拷贝完全拷贝
        // let obj = {
        //     name: "xxx",
        //     age: 21,
        //     school: "yejidaxue"
        // }
        // let obj2={};
        // Object.assign(obj2,obj);
        // obj.name = "aaa";
        // console.log(obj2);

        // //扩展运算符 单层完全拷贝
        // let obj = {
        //     name: "xxx",
        //     age: 21,
        //     school: "yejidaxue"
        // }
        // let obj2={...obj};

        // obj.name = "aaa";
        // console.log(obj2);


        // // for in 遍历对象
        // //单层完全拷贝
        // let obj = {
        //     name: "xxx",
        //     age: 21,
        //     school: "yejidaxue"
        // }
        // let obj2 = {};
        // for (let key in obj) {
        //     //console.log(key + "=" + obj[key]);
        //     obj2[key] = obj[key];
        // }
        // obj.name="xiaoaa"
        // console.log(obj2);

        // //深拷贝 完全克隆
        // let obj = {
        //     name: "xxx",
        //     age: 21,
        //     school: "yejidaxue",
        //     student:{
        //         name:"aaa"
        //     }
        // }
        // let obj2={};
        // Object.assign(obj2,obj);
        // obj.student.name = "ccc";
        // console.log(obj2);

        // //判断
        // 基本数据类型 number boolean string undefined null 
        //引用数据类型
        // let str = "hello";
        // let obj = {};
        // let arr = [];
        // console.log(typeof str);
        // console.log(typeof obj);
        // //结果为object为引用数据类型 对象数组
        // console.log(typeof arr);
        // //区分数组和对象
        // console.log(Array.isArray(obj), Array.isArray(arr));
        // console.log(Object.prototype.toString.call(obj));



        //递归实现深拷贝
        function deepClone(target) {
            //定义结果变量
            let result;
            //判断基本数据类型或引用数据类型
            if (typeof target === "object") {
                //判断数组或对象
                if (Array.isArray(target)) {
                    //把结果变量变成数组
                    result = [];
                    for (let val of target) {
                        result.push(deepClone(val))
                    }
                } else {
                    //把结果变量变成对象
                    result = {};
                    for (let item in target) {
                        result[item] = deepClone(target[item]);
                    }
                }

            }
            else {
                result = target;
            }
            return result;
        }
        let obj = {
            name: "xxx",
            age: 21,
            school: "yejidaxue",
            student: {
                name: "aaa"
            }
        }
        let obj2 = deepClone(obj);

        obj.student.name = "ccc";
        console.log(obj2);

        let arr = [1, 2 ,[3, "a"], 4, 5,];
        let arr2 = deepClone(arr);
        arr[2][0] = "hello";
        console.log(arr2);
    </script>
</body>

</html>